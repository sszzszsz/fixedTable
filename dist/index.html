<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fixed Table</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/modern-css-reset/dist/reset.min.css" />
  <link rel="stylesheet" href="./css/demo.css">
  <link rel="stylesheet" href="./css/style.css" />
  <script src="./js/FixedTable.js"></script>
  <script>

    window.addEventListener("load", function () {
      let tableLists = Array.from(document.getElementsByClassName("js-fixedTable"));
      let tableInstance = tableLists.map(function (table) {
        let item = new FixedTable(table);
        item.init();
        return item;
      });

      let destroyBtn = document.getElementById("destroy")
      destroyBtn.addEventListener('click', function () {
        tableInstance.forEach(instance => {
          instance.destroy()
        });
      })
    });

  </script>
</head>

<body>
  <h1>行列固定のテーブル</h1>
  <p>EXCELのように行、列を固定にできるプラグインです</p>

  <h2>動作確認環境</h2>
  <ul>
    <li>
      <p>MacBook Pro (13-inch, M1, 2020) バージョン11.0</p>
      <dl>
        <dt>Google Chrome</dt>
        <dd>バージョン: 88.0.4324.182（Official Build）(arm64)</dd>
      </dl>
      <dl>
        <dt>Fire Fox</dt>
        <dd>バージョン: 85.0.2</dd>
      </dl>
      <dl>
        <dt>Safari</dt>
        <dd>バージョン: 14.0.1 (16610.2.11.1.3)</dd>
      </dl>
      <dl>
        <dt>chromium Edge</dt>
        <dd>バージョン: 88.0.705.74 (公式ビルド) (64 ビット)</dd>
      </dl>
    </li>
    <li>Windows 10</li>
  </ul>

  <h2>固定無し</h2>
  <div class="cont js-fixedTable">
    <div>
      <table>
        <thead>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <th>見出し</th>
            <th>見出し</th>
            <th>見出し</th>
            <th>見出し</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>あああああああああああああああああああああああああああああああ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し<br />見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <h2>縦スクロール　<span>列見出しが固定</span></h2>
  <ul>
    <li>対象のテーブル要素を囲う</li>
    <li>囲った要素にjs-fixedTableと、js-fixedTable-verticalクラスを付与する</li>
    <li>js-fixedTableの要素にdata-heightでスクロール領域の高さを指定する</li>
    <li>固定見出しにする行の一番最初に特定のクラス（js-fixedHead）を付与する</li>
  </ul>
  <div class="cont js-fixedTable" data-height="300" data-direction="vertical">
    <div>
      <table>
        <thead>
          <tr>
            <th class="js-fixedHead">見出し</th>
            <th>見出し</th>
            <th>見出し</th>
          </tr>
          <tr>
            <th class="js-fixedHead">見出し</th>
            <th>見出し</th>
            <th>見出し</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <td>データ</td>
            <td>あああああああああああああああああああああああああああああああ</td>
            <td>データ</td>
          </tr>
          <tr>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <td>データ</td>
            <td>
              ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ
            </td>
            <td>データ</td>
          </tr>
          <tr>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <td>データ</td>
            <td>
              ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ
            </td>
            <td>データ</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <h2>横スクロール　<span>行見出しが固定</span></h2>
  <ul>
    <li>対象のテーブル要素を囲う</li>
    <li>囲った要素にjs-fixedTableと、js-fixedTable-horizontalクラスを付与する</li>
    <li>一番最初の列の、固定見出しにするセルに対して特定のクラス（js-fixedHead）を付与する</li>
  </ul>
  <div class="cont js-fixedTable" data-direction="horizontal">
    <div>
      <table>
        <tbody>
          <tr>
            <th class="js-fixedHead">見出し</th>
            <th class="js-fixedHead">見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th colspan="2">見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th rowspan="2">見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>あああああああああああああああああああああああああああああああ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th rowspan="2">見出し<br />見出し</th>
            <th>見出し<br />見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し<br />見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <h2>縦横スクロール</h2>
  <ul>
    <li>対象のテーブル要素を囲う</li>
    <li>囲った要素にjs-fixedTableと、js-fixedTable-vhクラスを付与する</li>
  </ul>

  <h3>縦横スクロールで横スクロールのみ</h3>
  <div class="cont js-fixedTable" data-height="300" data-direction="vh">
    <div>
      <table>
        <thead>
          <tr>
            <th class="js-fixedHead">見出し</th>
            <th class="js-fixedHead">見出し<br />見出し</th>
            <th>見出し</th>
            <th>見出し</th>
            <th>見出し<br />見出し</th>
            <th>見出し</th>
            <th>見出し</th>
          </tr>
          <tr>
            <th class="js-fixedHead">見出し</th>
            <th>見出し</th>
            <th>見出し</th>
            <th>見出し</th>
            <th>見出し<br />見出し</th>
            <th>見出し</th>
            <th>見出し</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>あああああああああああああああああああああああああああああああ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th rowspan="2">見出し<br />見出し</th>
            <th>見出し<br />見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し<br />見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <h3>縦横スクロールで縦スクロールのみ</h3>
  <div class="cont js-fixedTable" data-height="200" data-direction="vh">
    <div>
      <table>
        <thead>
          <tr>
            <th class="js-fixedHead">見出し</th>
            <th class="js-fixedHead">見出し<br />見出し</th>
            <th>見出し</th>
            <th>見出し<br />見出し</th>
          </tr>
          <tr>
            <th class="js-fixedHead">見出し</th>
            <th>見出し</th>
            <th>見出し<br />見出し</th>
            <th>見出し</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th rowspan="2">見出し<br />見出し</th>
            <th>見出し<br />見出し</th>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し<br />見出し</th>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th rowspan="2">見出し<br />見出し</th>
            <th>見出し<br />見出し</th>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し<br />見出し</th>
            <td>データ</td>
            <td>データ<br />データ<br />データデータデータデータ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <h3>縦横スクロール</h3>
  <div class="cont js-fixedTable" data-height="400" data-direction="vh">
    <div>
      <table>
        <thead>
          <tr>
            <th colspan="2" rowspan="2" class="js-fixedHead">見出し</th>
            <th>見出し</th>
            <th>見出し</th>
            <th>見出し</th>
            <th>見出し<br />見出し</th>
            <th>見出し</th>
          </tr>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <th>見出し</th>
            <th>見出し<br />見出し</th>
            <th>見出し</th>
          </tr>
          <tr>
            <th colspan="2" class="js-fixedHead">見出し</th>
            <th>見出し</th>
            <th>見出し</th>
            <th>見出し</th>
            <th>見出し<br />見出し</th>
            <th>見出し</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th colspan="2">見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>あああああああああああああああああああああああああああああああ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th rowspan="2">見出し<br />見出し</th>
            <th>見出し<br />見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し<br />見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>あああああああああああああああああああああああああああああああ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>あああああああああああああああああああああああああああああああ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>あああああああああああああああああああああああああああああああ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>あああああああああああああああああああああああああああああああ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>あああああああああああああああああああああああああああああああ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
          <tr>
            <th>見出し</th>
            <th>見出し</th>
            <td>データ</td>
            <td>データ</td>
            <td>あああああああああああああああああああああああああああああああ</td>
            <td>データ</td>
            <td>データ</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>


  <button id="destroy">破棄</button>
  <footer id="footer">
    Vanilla Fixed Table
  </footer>
</body>

</html>